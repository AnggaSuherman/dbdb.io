{% extends 'base.html' %}
{% block title %}
    Revision {{ system.name }}
{% endblock %}
{% block content %}
    <div class="jumbotron">
        <div class="row">
            <h1 class="offset-md-2">{{ system.name }}</h1>
        </div>
        <div class="row justify-content-center">
            <form class=" col-md-8" action="." method="POST">
                {% csrf_token %}
                <table class="table">
                    <thead>
                    <tr>
                        <th>Current Version</th>
                        <th>Version #</th>
                        <th>Date Created</th>
                        <th>Edited by</th>
                        <th>Revision Comments</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for version in versions %}
                        <tr>
                        <td>
                            {% if user.is_authenticated %}
                                <input class="form-check-input" type="radio" name="current_version" value="{{ version.id }}"
                                       {% if version.is_current %}checked{% endif %}>
                            {% else %}
                                {% if version.is_current %}
                                    <span><i class="fa fa-check"></i></span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td>
                            {{ version.version_number }}
                        </td>
                        <td>
                             {% if version.is_current %}
                                 <a href="{{ system.get_absolute_url }}">{{ version.created }}</a>
                            {% else %}
                                <a href="{% url 'system_revision_view' system.slug version.id %}">{{ version.created }}</a>
                            {% endif %}
                        </td>
                        <td>
                            {{ version.creator.username }}
                        </td>
                        <td>
                            {{ version.comment }}
                        </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
                <button class="btn btn-primary" type="submit">Set Current Version</button>
            </form>
        </div>

    </div>
{% endblock %}